<!-- Inicio del contenido de la pagina -->
<div class="row">
    <div class="col-md-12">
        <!-- Inicio del sidebar perfil -->

        <!-- Inicio del contenido del perfil -->
        <div class="profile-content">
            <div class="row">
                <div class="col-md-12">
                    <div class="portlet light bordered">
                        <div class="portlet-title tabbable-line">
                            <div class="caption caption-md">
                                <i class="icon-globe theme-font hide"></i>
                                <span class="caption-subject font-blue-madison bold uppercase">{{ title }}</span>
                            </div>
                            <ul class="nav nav-tabs">
                                <li class="active">
                                    <a href="#tab_1_1" data-toggle="tab">Informacion de sucursal</a>
                                </li>
                            </ul>
                        </div>
                        <div class="portlet-body">
                            <div class="tab-content">
                                <!-- Informacion personal TAB -->
                                <div class="tab-pane active" id="tab_1_1">
                                    <form #branchForm="ngForm" (ngSubmit)="onSubmit()" class="form-horizontal">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label">Nombre de la sucursal</label>
                                            <div class="col-md-9">
                                                <input [(ngModel)]="branch.name" type="text" class="form-control" name="name" required pattern="[a-zA-Z ñÑáéíóúÁÉÍÓÚ\s]*"/>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-3 control-label">Información extra</label>
                                            <div class="col-md-9">
                                                <textarea [(ngModel)]="branch.extra_data" class="form-control" name="extra_data"></textarea>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-3 control-label">Gerente</label>
                                            <div class="col-md-9" *ngIf="items.users.length > 0">
                                                <ng-select [allowClear]="true"
                                                    [items]="items.users"
                                                    [active]="items.selected.user"
                                                    placeholder="Ningun gerente seleccionado"
                                                    (selected)="setUser($event)"
                                                    (removed)="removeUser($event)"
                                                    class="{{ branch.user_id != null ? 'ng-valid' : 'ng-invalid' }}">
                                                </ng-select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-3 control-label">Dirección</label>
                                            <div class="col-md-9">
                                                <input placeholder="Busca una dirección" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" class="form-control" #search>
                                            </div>
                                        </div>
                                        <agm-map [latitude]="latitude" [longitude]="longitude" [scrollwheel]="false" [zoom]="zoom">
                                            <agm-marker [latitude]="latitude" [longitude]="longitude"></agm-marker>
                                        </agm-map>
                                        <div class="form-group">
                                            <label class="col-md-3 control-label">Activo</label>
                                            <div class="col-md-9">
                                                <input type="checkbox" [checked]="branch.active" [(ngModel)]="branch.active" name="active">
                                            </div>
                                        </div>
                                        <div class="margiv-top-10 to-right" style="margin-top: 10px;">
                                            <a [routerLink]="['/', 'usuarios']" class="btn default"> Cancelar </a>
                                            <button type="submit" class="btn green" [disabled]="!branchForm.form.valid"> Guardar Cambios </button>
                                        </div>
                                    </form>
                                </div>
                                <!-- Fin Informacion personal TAB -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Fin del contenido del perfil -->
    </div>
</div>
<!-- Fin del contenido base de la pagina -->
